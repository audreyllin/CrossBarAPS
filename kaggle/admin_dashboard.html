<!DOCTYPE html>
<html>

<head>
    <title>Admin Dashboard</title>
    <style>
        body {
            background: #111;
            color: white;
            font-family: sans-serif;
            padding: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th,
        td {
            border: 1px solid #444;
            padding: 8px;
        }
        
        a {
            color: orange;
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <h1>Admin Dashboard</h1>
    <a href="/download/txt">Download TXT</a>
    <a href="/download/docx">DOCX</a>
    <a href="/download/pdf">PDF</a>
    <a href="/reset" onclick="return confirm('Are you sure you want to reset all logs?')">Reset DB</a>
    <a href="/logout" style="float:right;">Logout</a>

    <h2>Top Questions</h2>
    <ul>
        {% for q, count in top_questions %}
        <li>{{ q }} ({{ count }})</li>
        {% endfor %}
    </ul>

    <h2>Conversation Log</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>Timestamp</th>
            <th>Question</th>
            <th>Answer</th>
        </tr>
        {% for row in conversations %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
        </tr>
        {% endfor %}
    </table>
</body>

</html>