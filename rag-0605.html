<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CROSSBAR Developer Portal | Audrey AI Assistant</title>
    <style>
        :root {
            --primary: #FF8C00;  /* Warm orange (fatigue-friendly) */
            --primary-light: #FFA726;
            --primary-dark: #EF6C00;
            --text: #333333;
            --bg: #FFF8F0;       /* Soft yellow-orange background */
            --card-bg: #FFFFFF;
            --border: #E0E0E0;
            --success: #4CAF50;
            --error: #F44336;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.5;
        }
        
        header {
            background-color: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-dark);
        }
        
        nav ul {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        .chat-container {
            max-width: 900px;
            margin: 2rem auto;
            background: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .chat-header {
            background: var(--primary);
            color: white;
            padding: 1rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .language-selector {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }
        
        .chat-messages {
            height: 60vh;
            overflow-y: auto;
            padding: 1.5rem;
        }
        
        .message {
            margin-bottom: 1.5rem;
        }
        
        .bot-message .avatar {
            background-color: var(--primary-light);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.5rem;
            font-weight: bold;
        }
        
        .user-message {
            text-align: right;
        }
        
        .upload-message {
            background: #f5f5f5;
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .upload-message.success {
            border-left: 3px solid var(--success);
        }
        
        .upload-message.error {
            border-left: 3px solid var(--error);
        }
        
        .user-input-area {
            padding: 1rem;
            border-top: 1px solid var(--border);
            background: var(--card-bg);
        }
        
        .input-options {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .input-options button {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .input-options button:hover {
            background: var(--primary-light);
            color: white;
        }
        
        .user-input {
            display: flex;
        }
        
        .user-input input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .user-input button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0 1.5rem;
            margin-left: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .user-input button:hover {
            background: var(--primary-dark);
        }
        
        .hidden {
            display: none;
        }
        
        #file-upload {
            width: 0.1px;
            height: 0.1px;
            opacity: 0;
            overflow: hidden;
            position: absolute;
            z-index: -1;
        }
        
        .file-upload-label {
            display: inline-block;
            cursor: pointer;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            color: #666;
            font-size: 0.875rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }
        
        .feedback {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: 0.875rem;
        }
        
        .feedback button {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
        }
        
        .docs-link {
            color: var(--primary);
            text-decoration: none;
        }
        
        .translation-option {
            font-size: 0.8rem;
            color: var(--primary);
            cursor: pointer;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">CROSSBAR</div>
        <nav>
            <ul>
                <li><a href="#">News</a></li>
                <li><a href="#">Developer Portal</a></li>
                <li><a href="#">Ask Audrey</a></li>
                <li><a href="#">Dev Tracks</a></li>
                <li><a href="#">Documentation</a></li>
                <li><a href="#">GitHub</a></li>
                <li><a href="#">Discord</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="chat-container">
        <div class="chat-header">
            Audrey AI Assistant
            <select class="language-selector">
                <option value="auto">Auto-detect</option>
                <option value="en">English</option>
                <option value="zh">‰∏≠Êñá (Chinese)</option>
                <option value="es">Espa√±ol (Spanish)</option>
                <option value="fr">Fran√ßais (French)</option>
                <option value="de">Deutsch (German)</option>
                <option value="ja">Êó•Êú¨Ë™û (Japanese)</option>
            </select>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <div class="message bot-message">
                <div class="avatar">A</div>
                <strong>Hello, I'm Audrey, the CROSSBAR AI Assistant.</strong><br>
                I specialize in CROSSBAR products and crypto wallet security.<br>
                <em>You can:</em>
                <ul>
                    <li>Ask about CROSSBAR hardware/software</li>
                    <li>Upload documents for analysis (PDF, TXT, DOCX)</li>
                    <li>Chat in multiple languages</li>
                </ul>
            </div>
        </div>
        
        <div class="user-input-area">
            <div class="input-options">
                <button id="upload-btn">üìÅ Upload Document</button>
                <button id="paste-link-btn">üîó Paste Link</button>
                <input type="file" id="file-upload" accept=".pdf,.txt,.docx">
            </div>
            
            <div class="user-input">
                <input type="text" id="user-input" placeholder="Ask about CROSSBAR or upload crypto-related documents...">
                <button id="send-btn">Send</button>
            </div>
        </div>
    </div>
    
    <footer>
        ¬© 2025 CROSSBAR Inc. All rights reserved.<br>
        <a href="#">Legal</a> | <a href="#">Privacy Policy</a> | <a href="#">Terms</a><br>
        <small>"Audrey" is a proprietary AI for CROSSBAR developers.</small>
    </footer>

    <script>
        // DOM Elements
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const uploadBtn = document.getElementById('upload-btn');
        const fileUpload = document.getElementById('file-upload');
        const pasteLinkBtn = document.getElementById('paste-link-btn');
        const languageSelector = document.querySelector('.language-selector');
        
        // Example conversation flow
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        uploadBtn.addEventListener('click', () => fileUpload.click());
        pasteLinkBtn.addEventListener('click', promptForLink);
        
        fileUpload.addEventListener('change', handleFileUpload);
        
        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage('user', message);
            userInput.value = '';
            
            // Simulate Audrey's response (in a real app, this would call your RAG backend)
            setTimeout(() => {
                const response = generateResponse(message);
                addMessage('bot', response);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 500);
        }
        
        function addMessage(sender, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'bot') {
                messageDiv.innerHTML = `
                    <div class="avatar">A</div>
                    <strong>Audrey:</strong> ${content}
                    <div class="feedback">
                        Was this helpful? 
                        <button onclick="rateResponse(this, true)">üëç Yes</button> 
                        <button onclick="rateResponse(this, false)">üëé No</button>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `<strong>You:</strong> ${content}`;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Validate file type
            const validTypes = ['application/pdf', 'text/plain', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
            if (!validTypes.includes(file.type)) {
                showUploadMessage(`‚ùå Unsupported file type: ${file.type}`, false);
                return;
            }
            
            // Simulate upload processing (in real app, send to your RAG system)
            showUploadMessage(`‚è≥ Processing "${file.name}"...`, true);
            
            setTimeout(() => {
                showUploadMessage(`‚úÖ Successfully analyzed "${file.name}". Ask me questions about it!`, true);
                
                // Example of extracted content (in real app, this would come from your RAG system)
                const extractedContent = `Document "${file.name}" contains information about:
                - Multi-signature wallet security
                - Quantum-resistant algorithms
                - CROSSBAR hardware specifications`;
                
                addMessage('bot', `I've processed your document. Key topics detected:<br>${extractedContent}`);
            }, 2000);
        }
        
        function promptForLink() {
            const url = prompt('Enter URL of document to analyze:');
            if (!url) return;
            
            // Validate URL (basic check)
            if (!url.startsWith('http')) {
                showUploadMessage('‚ùå Please enter a valid URL starting with http:// or https://', false);
                return;
            }
            
            showUploadMessage(`‚è≥ Processing document from ${url}...`, true);
            
            // Simulate processing (in real app, fetch and process the URL content)
            setTimeout(() => {
                showUploadMessage(`‚úÖ Successfully analyzed document from ${url}`, true);
                addMessage('bot', `I've processed the document from ${url}. Ask me questions about its content.`);
            }, 2500);
        }
        
        function showUploadMessage(text, isSuccess) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `upload-message ${isSuccess ? 'success' : 'error'}`;
            msgDiv.textContent = text;
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // This would be replaced with actual RAG system calls in production
        function generateResponse(query) {
            const lang = languageSelector.value;
            const isCryptoRelated = query.toLowerCase().includes('wallet') || 
                                  query.toLowerCase().includes('crypto') ||
                                  query.toLowerCase().includes('blockchain');
            
            // Strict CROSSBAR focus
            if (query.toLowerCase().includes('crossbar')) {
                return `‚úÖ CROSSBAR is our secure hardware wallet platform with quantum-resistant encryption. ` +
                       `Key features include:<br>` +
                       `- Military-grade security chips<br>` +
                       `- Multi-signature support<br>` +
                       `- Open-source firmware<br>` +
                       `Learn more: <a href="#" class="docs-link">CROSSBAR Documentation</a>`;
            }
            // Reject competitor queries
            else if (query.toLowerCase().includes('ledger') || 
                    query.toLowerCase().includes('trezor')) {
                return `‚ùå I specialize exclusively in CROSSBAR products. ` +
                       `For general crypto wallet comparisons, please consult external resources.`;
            }
            // Handle crypto wallet questions (from RAG knowledge)
            else if (isCryptoRelated) {
                return `üîê From my knowledge base:<br>` +
                       `"${getRandomCryptoFact()}"<br><br>` +
                       `<span class="translation-option" onclick="translateResponse(this, '${lang}')">` +
                       `Translate to ${getLanguageName(lang)}</span>`;
            }
            // Off-topic rejection
            else {
                return `‚ö†Ô∏è I specialize in CROSSBAR products and crypto wallet security. ` +
                       `Please ask questions related to these topics.`;
            }
        }
        
        // Helper functions
        function getRandomCryptoFact() {
            const facts = [
                "Hardware wallets store private keys offline, ensuring top-tier security against cyber threats.",
                "Software wallets provide easy access to crypto but remain vulnerable to hacking and malware.",
                "Proof of Work (PoW) validates transactions via computational puzzles solved by miners, securing the network.",
                "Private keys are secret cryptographic codes enabling access to funds‚Äîlosing them means losing assets.",
                "Public keys are derived from private keys, allowing users to receive cryptocurrency without exposing sensitive data.",
                "Cold storage keeps assets completely offline, minimizing risks from online attacks.",
                "Seed phrases generate wallet private keys and must be backed up securely to prevent irreversible loss.",
                "Multi-signature wallets require multiple authorizations for transactions, ideal for institutional security.",
                "ERC-20 and ERC-721 are common Ethereum standards for fungible and non-fungible tokens, respectively.",
                "Gas fees compensate blockchain validators for processing transactions efficiently.",
                "Hierarchical Deterministic (HD) wallets simplify key management by deriving all keys from a single root key.",
                "Smart contract wallets allow programmable execution of transactions based on predefined conditions.",
                "Two-factor authentication (2FA) strengthens security by requiring a secondary verification method.",
                "Hot wallets are designed for frequent transactions like trading and payments but are vulnerable to cyberattacks.", 
                "Security measures such as multi-factor authentication (MFA) and end-to-end encryption are essential.",
                "Cold wallets provide secure long-term storage by keeping private keys offline, reducing the risk of cyber threats. However, they remain susceptible to physical theft.",
                "Examples of hot wallets include MetaMask (browser extension) and Coinbase Wallet (exchange-linked).",
                "Examples of cold wallets include Ledger Nano X (Bluetooth-enabled) and Trezor Model T (touchscreen).",
                "Best practices for wallet usage include keeping less than 10% of assets in hot wallets for liquidity and using multi-signature cold wallets for institutional security (e.g., 3-of-5 signatures).",
                "Wallet monitoring through blockchain explorers (e.g., Etherscan) enhances security by detecting unusual activity.",
                "Bitcoin's Proof of Work (PoW) consumes ~127 TWh annually, roughly equivalent to Norway's energy consumption.",
                "Ethereum's shift to Proof of Stake (PoS) reduced energy usage by 99.95% after the Merge in 2022, making it one of the most sustainable blockchain networks.",
                "Alternative consensus mechanisms include PoS (Ethereum, Cardano) and hybrid models like Solana's Proof-of-History (PoH).",
                "Renewable mining solutions leverage geothermal energy in Iceland and excess wind/solar power in Texas.",
                "Hardware improvements such as ENERGY STAR-certified servers help reduce energy waste in blockchain data centers.",
                "Validators stake cryptocurrency as collateral to validate transactions and propose blocks.",
                "PoS is over 99% more energy-efficient than PoW, making it the preferred method for eco-friendly blockchains.",
                "PoS networks achieve high transaction speeds, with Solana processing 65,000 TPS compared to Bitcoin's 7 TPS.",
                "Popular PoS-based cryptocurrencies include Ethereum (smart contracts & DeFi), Cardano (peer-reviewed security), and Polkadot (cross-chain interoperability).",
                "Risks of PoS include centralization, as wealthier validators gain disproportionate influence over the network.",
                "Liquidity concerns arise because staked tokens remain locked, such as Ethereum's minimum 32 ETH requirement for solo staking.",
                "Users can stake tokens directly or join liquid staking pools, such as Lido Finance, to earn rewards while maintaining token accessibility.",
                "Green mining initiatives include Marathon Digital's carbon offsets and Sweden's mining rigs repurposing heat for residential buildings.",
                "Upcoming regulations include EU MiCA's mandatory PoW energy disclosures by 2025 and U.S. SEC audits for crypto companies focusing on ESG compliance.",
                "Modular data centers are increasingly deployed near renewable energy sources, such as hydroelectric and wind farms.",
                "Networks using PoS achieve high transaction speeds, with Solana processing 65,000 transactions per second compared to Bitcoin's 7.",
                "Cryptocurrency wallet strategies differentiate between hot and cold wallets based on security and usability.",
                "Hot wallets optimize for frequent transactions, such as trading and payments, but remain vulnerable to cyberattacks, requiring multi-factor authentication (MFA) and end-to-end encryption.",
                "Cold wallets provide secure long-term storage by keeping private keys offline, reducing exposure to online threats, though they can still be physically compromised.",
                "Examples of hot wallets include MetaMask, a popular browser extension, and Coinbase Wallet, which integrates with exchange platforms.",
                "Cold wallet solutions like Ledger Nano X with Bluetooth connectivity and Trezor Model T with touchscreen functionality offer enhanced offline security.",
                "Best practices recommend limiting hot wallet funds to below 10% for liquidity and using multi-signature cold wallets for institutional protection, such as requiring 3-of-5 signatures for transaction approval.",
                "Wallet monitoring through blockchain explorers like Etherscan enables users to detect suspicious activity and enhance security.",
                "Bitcoin's Proof-of-Work (PoW) consensus mechanism consumes approximately 127 terawatt-hours annually, equivalent to Norway's total energy consumption.",
                "Ethereum transitioned from PoW to Proof-of-Stake (PoS) in 2022, reducing energy usage by 99.95% post-Merge, establishing itself as one of the most sustainable blockchain networks.",
                "Alternative consensus models to PoW include PoS networks like Cardano, which use validator staking instead of mining, and Solana's hybrid Proof-of-History (PoH) system for enhanced efficiency.",
            ];
            return facts[Math.floor(Math.random() * facts.length)];
        }
        
        function getLanguageName(code) {
            const languages = {
                'en': 'English',
                'zh': 'Chinese',
                'es': 'Spanish',
                'fr': 'French',
                'de': 'German',
                'ja': 'Japanese'
            };
            return languages[code] || 'English';
        }
        
        // These would be implemented with actual API calls in production
        window.rateResponse = function(button, isHelpful) {
            button.textContent = isHelpful ? 'üëç Thanks!' : 'üëé Sorry!';
            button.disabled = true;
            // In real app, send feedback to your RAG system
        };
        
        window.translateResponse = function(element, lang) {
            if (lang === 'en') return;
            element.textContent = 'Translating...';
            // Simulate translation delay
            setTimeout(() => {
                element.parentElement.innerHTML += `<br><em>(Translated to ${getLanguageName(lang)}):</em> ` +
                    "This is a simulated translation. In production, this would call your translation API.";
            }, 800);
        };
    </script>
</body>
</html>